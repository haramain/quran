jQuery(document).ready(function(a){a("#progression-toggle-tada").click(function(){a(".progression-playlist-height").toggleClass("active-progression")})});(function(a){a.extend(mejs.MepDefaults,{loopText:"Repeat On/Off",shuffleText:"Shuffle On/Off",nextText:"Next Track",prevText:"Previous Track",playlistText:"Show/Hide Playlist"});a.extend(MediaElementPlayer.prototype,{buildloop:function(e,c,g,f){var d=this;var b=a('<div class="mejs-button mejs-loop-button '+((e.options.loop)?"mejs-loop-on":"mejs-loop-off")+'"><button type="button" aria-controls="'+e.id+'" title="'+e.options.loopText+'"></button></div>').appendTo(c).click(function(h){e.options.loop=!e.options.loop;a(f).trigger("mep-looptoggle",[e.options.loop]);if(e.options.loop){b.removeClass("mejs-loop-off").addClass("mejs-loop-on")}else{b.removeClass("mejs-loop-on").addClass("mejs-loop-off")}});d.loopToggle=d.controls.find(".mejs-loop-button")},loopToggleClick:function(){var b=this;b.loopToggle.trigger("click")},buildshuffle:function(d,b,g,f){var c=this;var e=a('<div class="mejs-button mejs-shuffle-button '+((d.options.shuffle)?"mejs-shuffle-on":"mejs-shuffle-off")+'"><button type="button" aria-controls="'+d.id+'" title="'+d.options.shuffleText+'"></button></div>').appendTo(b).click(function(h){d.options.shuffle=!d.options.shuffle;a(f).trigger("mep-shuffletoggle",[d.options.shuffle]);if(d.options.shuffle){e.removeClass("mejs-shuffle-off").addClass("mejs-shuffle-on")}else{e.removeClass("mejs-shuffle-on").addClass("mejs-shuffle-off")}});c.shuffleToggle=c.controls.find(".mejs-shuffle-button")},shuffleToggleClick:function(){var b=this;b.shuffleToggle.trigger("click")},buildprevtrack:function(e,c,g,f){var d=this;var b=a('<div class="mejs-button mejs-prevtrack-button mejs-prevtrack"><button type="button" aria-controls="'+e.id+'" title="'+e.options.prevText+'"></button></div>').appendTo(c).click(function(h){a(f).trigger("mep-playprevtrack");e.playPrevTrack()});d.prevTrack=d.controls.find(".mejs-prevtrack-button")},prevTrackClick:function(){var b=this;b.prevTrack.trigger("click")},buildnexttrack:function(d,b,f,e){var c=this;var g=a('<div class="mejs-button mejs-nexttrack-button mejs-nexttrack"><button type="button" aria-controls="'+d.id+'" title="'+d.options.nextText+'"></button></div>').appendTo(b).click(function(h){a(e).trigger("mep-playnexttrack");d.playNextTrack()});c.nextTrack=c.controls.find(".mejs-nexttrack-button")},nextTrackClick:function(){var b=this;b.nextTrack.trigger("click")},buildplaylist:function(e,b,g,f){var d=this;var c=a('<div class="mejs-button mejs-playlist-button '+((e.options.playlist)?"mejs-hide-playlist":"mejs-show-playlist")+'"><button type="button" aria-controls="'+e.id+'" title="'+e.options.playlistText+'"></button></div>').appendTo(b).click(function(h){e.options.playlist=!e.options.playlist;a(".progression-playlist-height").toggleClass("active-progression");a(f).trigger("mep-playlisttoggle",[e.options.playlist]);if(e.options.playlist){g.children(".mejs-playlist").show();c.removeClass("mejs-show-playlist").addClass("mejs-hide-playlist")}else{g.children(".mejs-playlist").hide();c.removeClass("mejs-hide-playlist").addClass("mejs-show-playlist")}});d.playlistToggle=d.controls.find(".mejs-playlist-button")},playlistToggleClick:function(){var b=this;b.playlistToggle.trigger("click")},buildplaylistfeature:function(f,d,h,g){var i=a('<div class="mejs-playlist mejs-layer"><ul class="mejs"></ul></div>').appendTo(h);if(!f.options.playlist){i.hide()}if(f.options.playlistposition=="bottom"){i.css("top",f.options.audioHeight+"px")}else{i.css("bottom",f.options.audioHeight+"px")}var c=function(j){var k=j.split("/");if(k.length>0){return decodeURIComponent(k[k.length-1])}else{return""}};var e=[];a("#"+f.id).find(".mejs-mediaelement source").each(function(k,l){if(a.trim(this.src)!=""){var j={};j.source=a.trim(this.src);if(a.trim(this.title)!=""){j.name=a.trim(this.title)}else{j.name=c(j.source)}e.push(j)}});for(var b in e){h.find(".mejs-playlist > ul").append('<li data-url="'+e[b].source+'" title="'+e[b].name+'">'+e[b].name+"</li>")}h.find("li:first").addClass("current played");h.find(".mejs-playlist > ul li").click(function(j){if(!a(this).hasClass("current")){a(this).addClass("played");f.playTrack(a(this))}else{}});g.addEventListener("ended",function(j){f.playNextTrack()},false)},playNextTrack:function(){var d=this;var c=d.layers.find(".mejs-playlist > ul > li");var g=c.filter(".current");var f=c.not(".played");if(f.length<1){g.removeClass("played").siblings().removeClass("played");f=c.not(".current")}if(d.options.shuffle){var e=Math.floor(Math.random()*f.length);var b=f.eq(e)}else{var b=g.next();if(b.length<1&&d.options.loop){b=g.siblings().first()}}if(b.length==1){b.addClass("played");d.playTrack(b)}},playPrevTrack:function(){var c=this;var b=c.layers.find(".mejs-playlist > ul > li");var g=b.filter(".current");var f=b.filter(".played").not(".current");if(f.length<1){g.removeClass("played");f=b.not(".current")}if(c.options.shuffle){var e=Math.floor(Math.random()*f.length);var d=f.eq(e)}else{var d=g.prev();if(d.length<1&&c.options.loop){d=g.siblings().last()}}if(d.length==1){g.removeClass("played");c.playTrack(d)}},playTrack:function(b){var c=this;c.pause();c.setSrc(b.attr("data-url"));c.load();c.play();b.addClass("current").siblings().removeClass("current")},playTrackURL:function(d){var e=this;var c=e.layers.find(".mejs-playlist > ul > li");var b=c.filter('[data-url="'+d+'"]');e.playTrack(b)}})})(mejs.$);
